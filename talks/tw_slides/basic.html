<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>reveal.js</title>

    <link rel="stylesheet" href="dist/reset.css">
    <link rel="stylesheet" href="dist/reveal.css">

    <!-- themes that I lke -- sky, solarized, serif, white, blood -->
    <link rel="stylesheet" href="dist/theme/dracula.css">
    <link rel="stylesheet" href="styling_css/sg_property.css">

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css">
</head>

<body>
    <div class="reveal">
        <div class="slides" id="slides-container">
            <!-- Slides will be loaded here -->
        </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        /* const slideFiles = [
            'slides/sg_property/about_me.html',
            'slides/sg_property/basic_knowledge.html',
            'slides/sg_property/project_reason.html',
            'slides/sg_property/datas_source.html',
            'slides/sg_property/data_usage.html',
            'slides/sg_property/findings.html',
            'slides/sg_property/whats_next.html',
            'slides/sg_property/taiwan_call.html',
            'slides/sg_property/closing.html',
        ]; */

        const slideFiles = [
            'slides/templates/base_intro.html',
            'slides/templates/base_intro_w_subtitle.html',
            'slides/templates/base_second.html',
            'slides/templates/base_third.html',
            'slides/templates/base_image.html',
            'slides/templates/base_plotly.html',
            'slides/templates/base_large_img.html',
            'slides/templates/base_ending.html',
        ];

        const container = document.getElementById('slides-container');

        // Function to load each slide in order
        async function loadSlides() {
            for (let i = 0; i < slideFiles.length; i++) {
                const slideFile = slideFiles[i];
                const response = await fetch(slideFile);
                const html = await response.text();

                const div = document.createElement('div');
                div.innerHTML = html;
                container.appendChild(div.firstElementChild);
            }

            // Initialize Reveal after all slides are loaded
            Reveal.initialize({
                hash: true,
                progress: true,
                slideNumber: 'c/t',
                showSlideNumber: 'all',
                navigationMode: 'linear',
                shuffle: false,
                plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
            });
        }

        // Load slides and then initialize Reveal.js
        loadSlides();
    </script>
</body>

</html>
